{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<style>
    /* Estilos para o Card do Evento */
    .evento-card {
        max-width: 900px;
        margin: 20px auto;
        padding: 20px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        display: flex; /* Habilita layout flexível */
        gap: 20px;
        align-items: flex-start;
    }

    /* Estilo para a Imagem/Banner (lado esquerdo) */
    .evento-banner-container {
        flex-shrink: 0; /* Não permite que o container do banner encolha */
        width: 150px; /* Largura fixa para o banner */
        height: 100px; /* Altura fixa para o banner */
        overflow: hidden;
        border-radius: 6px;
    }
    .evento-banner {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Garante que a imagem cubra o espaço sem distorcer muito */
    }

    /* Estilo para as Informações (lado direito) */
    .evento-info {
        flex-grow: 1; /* Permite que o bloco de informações ocupe o espaço restante */
    }

    .evento-info h3 {
        margin-top: 0;
        color: #1a73e8;
    }
    .btn-success {
        display: inline-block;
        padding: 8px 15px;
        background: #28a745;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        margin-top: 10px;
    }
</style>

<div class="container">
    <h2 style="text-align: center; margin-bottom: 30px;">{{ title }}</h2>

    {% if eventos %}
        {% for evento in eventos %}
            <div class="evento-card">
                
                {% if evento.banner %}
                    <div class="evento-banner-container">
                        <img src="{{ evento.banner.url }}" alt="Banner do Evento" class="evento-banner">
                    </div>
                {% endif %}
                
                <div class="evento-info">
                    
                    <h3>{{ evento.nome }} ({{ evento.tipo_evento }})</h3>

                    <p style="font-size: 14px;">
                        <strong>Local:</strong> {{ evento.local }} | 
                        <strong>Horário:</strong> {{ evento.horario }}
                    </p>
                    <p style="font-size: 14px;">
                        <strong>Data:</strong> {{ evento.data_inicial|date:"d/m/Y" }} 
                        – {{ evento.data_final|date:"d/m/Y" }}
                    </p>
                    <p style="font-size: 14px;"><strong>Vagas Disponíveis:</strong> {{ evento.quantidade_participantes }}</p>

                    <a href="{% url 'inscrever_evento' evento.id %}" class="btn-success">
                        Inscrever-se no Evento
                    </a>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <p style="text-align: center;">Nenhum evento futuro disponível no momento.</p>
    {% endif %}
</div>
{% endblock %}